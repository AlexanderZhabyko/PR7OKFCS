{% extends 'base.html' %}
{% load static %}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% block title %}
  Регистрация
{% endblock %}
{% block header %}
    <a class="logo" style="background-color: transparent" href="{% url 'home' %}"><img class="logo" src="{% static 'img/logoBG.png' %}" alt="Логотип"></a>
    <div class="right">
        <p></p>
        <a href="javascript:history.back()" class="secondary-btn glow-button">Назад</a>
    </div>
{% endblock %}
{% block nav %}
{% endblock %}
{% block body %}
    <div class="login-box">
        <h2 class="center">Регистрация</h2>
        <form method="post">
            <a class="service-btn" href="{% url 'login' %}">Уже есть аккаунт? Войти</a>
            {% csrf_token %}

            {# Общие ошибки формы #}
            {% if form.non_field_errors %}
                <div class="smalltext">
                    {% for error in form.non_field_errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <div class="user-box">
                <input type="text" name="login" id="id_login" value="{{ form.login.value|default_if_none:'' }}" required>
                <label for="id_login">Логин:</label>
                {% if form.login.errors %}
                    <div class="smalltext">
                        {% for error in form.login.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="user-box">
                <input type="password" name="password" id="id_password" required>
                <label for="id_password">Пароль:</label>
                {% if form.password.errors %}
                    <div class="smalltext">
                        {% for error in form.password.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="user-box">
                <input type="password" name="password_confirm" id="id_password_confirm" required>
                <label for="id_password_confirm">Подтвердите пароль:</label>
                {% if form.password_confirm.errors %}
                    <div class="smalltext">
                        {% for error in form.password_confirm.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="user-box">
                <input type="text" name="phone" id="id_phone" value="{{ form.phone.value|default_if_none:'' }}" required>
                <label for="id_phone">Телефон:</label>
                {% if form.phone.errors %}
                    <div class="smalltext">
                        {% for error in form.phone.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <button class="service-btn" type="submit">Зарегистрироваться</button>
        </form>
    </div>
{% endblock %}